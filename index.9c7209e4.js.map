{"mappings":"AAAA,IAAMA,iBAAmBC,SAASC,iBAAiB,qBAC7CC,kBAAoBF,SAASC,iBAAiB,sBAC9CE,KAAOH,SAASI,cAAc,QAChCC,aAAc,EAiBlB,SAASC,UAAUC,GACjB,IAAMC,EAAOD,EAAaH,cAAc,QASxC,SAASK,EAAaC,GACJ,KAAZA,EAAEC,OAAgBD,EAAEE,SAAWL,IACjCM,WAAWN,GACXP,SAASc,oBAAoB,UAAWL,GACxCF,EAAaO,oBAAoB,QAASL,G,CAX9CF,EAAaQ,UAAUC,OAAO,aAC9BC,WACAZ,aAAc,EAEdL,SAASkB,iBAAiB,UAAWT,GACrCF,EAAaW,iBAAiB,QAAST,GAUlCD,GAILA,EAAKU,iBAAiB,UAEtB,SAASC,EAAST,GAChBA,EAAEU,iBACFP,WAAWN,GAEX,IAAMc,EAAYb,EAAKc,aAAa,aACpC,GAAID,EAAW,CAEbf,UADqBN,SAASI,cAAc,gBAA0BmB,OAAVF,EAAU,O,CAIxEX,EAAEE,OAAOY,QACThB,EAAKM,oBAAoB,SAAUK,E,IAIvC,SAASN,WAAWY,GAClBA,EAAYV,UAAUW,IAAI,aAC1BrB,aAAc,EACdoB,EAAYP,iBAAiB,iBAE7B,SAASS,IACPF,EAAYX,oBAAoB,gBAAiBa,GACjDC,Y,IAIJ,SAASX,WACP,IAAMY,EAAiBC,OAAOC,WAAa5B,KAAK6B,YAAc,KACxDC,EAAmB9B,KAAK+B,MAAMC,aAEpChC,KAAK+B,MAAME,SAAW,SACtBjC,KAAK+B,MAAMC,aAAgBF,GAAmBJ,C,CAGhD,SAASD,aACFvB,cACHF,KAAK+B,MAAMG,eAAe,YAC1BlC,KAAK+B,MAAMG,eAAe,iB,CA5E9BnC,kBAAkBoC,SAAQ,SAAAC,GACxBA,EAASrB,iBAAiB,SAAS,SAAAR,GACjCG,WAAW0B,EAASC,QAAQ,gB,OAIhCzC,iBAAiBuC,SAAQ,SAAAG,GACvBA,EAASvB,iBAAiB,SAAS,SAAAR,GACjC,IAAMW,EAAYoB,EAASnB,aAAa,mBAGxChB,UAFqBN,SAASI,cAAc,gBAA0BmB,OAAVF,EAAU,O","sources":["src/js/modal.js"],"sourcesContent":["const modalOpenButtons = document.querySelectorAll('[data-open-modal]');\nconst modalCloseButtons = document.querySelectorAll('[data-close-modal]');\nconst body = document.querySelector('body');\nlet isModalOpen = false;\n\nmodalCloseButtons.forEach(closeBtn => {\n  closeBtn.addEventListener('click', e => {\n    modalClose(closeBtn.closest('[data-modal]'));\n  });\n});\n\nmodalOpenButtons.forEach(modalBtn => {\n  modalBtn.addEventListener('click', e => {\n    const modalName = modalBtn.getAttribute('data-open-modal');\n    const currentModal = document.querySelector(`[data-modal=\"${modalName}\"]`);\n\n    modalOpen(currentModal);\n  });\n});\n\nfunction modalOpen(currentModal) {\n  const form = currentModal.querySelector('form');\n\n  currentModal.classList.remove('is-hidden');\n  bodyLock();\n  isModalOpen = true;\n\n  document.addEventListener('keydown', onEscOrClick);\n  currentModal.addEventListener('click', onEscOrClick);\n\n  function onEscOrClick(e) {\n    if (e.which === 27 || e.target === currentModal) {\n      modalClose(currentModal);\n      document.removeEventListener('keydown', onEscOrClick);\n      currentModal.removeEventListener('click', onEscOrClick);\n    }\n  }\n\n  if (!form) {\n    return;\n  }\n\n  form.addEventListener('submit', onSubmit);\n\n  function onSubmit(e) {\n    e.preventDefault();\n    modalClose(currentModal);\n\n    const modalName = form.getAttribute('data-form');\n    if (modalName) {\n      const currentModal = document.querySelector(`[data-modal=\"${modalName}\"]`);\n      modalOpen(currentModal);\n    }\n\n    e.target.reset();\n    form.removeEventListener('submit', onSubmit);\n  }\n}\n\nfunction modalClose(modalActive) {\n  modalActive.classList.add('is-hidden');\n  isModalOpen = false;\n  modalActive.addEventListener('transitionend', onTransitionEnd);\n\n  function onTransitionEnd() {\n    modalActive.removeEventListener('transitionend', onTransitionEnd);\n    bodyUnLock();\n  }\n}\n\nfunction bodyLock() {\n  const scrollbarWidth = window.innerWidth - body.offsetWidth + 'px';\n  const bodyPaddingRight = body.style.paddingRight;\n\n  body.style.overflow = 'hidden';\n  body.style.paddingRight = !bodyPaddingRight ? scrollbarWidth : bodyPaddingRight;\n}\n\nfunction bodyUnLock() {\n  if (!isModalOpen) {\n    body.style.removeProperty('overflow');\n    body.style.removeProperty('padding-right');\n  }\n}"],"names":["modalOpenButtons","document","querySelectorAll","modalCloseButtons","body","querySelector","isModalOpen","modalOpen","currentModal","form","onEscOrClick","e","which","target","modalClose","removeEventListener","classList","remove","bodyLock","addEventListener","onSubmit","preventDefault","modalName","getAttribute","concat","reset","modalActive","add","onTransitionEnd","bodyUnLock","scrollbarWidth","window","innerWidth","offsetWidth","bodyPaddingRight","style","paddingRight","overflow","removeProperty","forEach","closeBtn","closest","modalBtn"],"version":3,"file":"index.9c7209e4.js.map"}